# Отчет по лабораторной работе: Работа с HTML-формами в PHP

## Цель работы

Освоить основные принципы работы с HTML-формами в PHP, включая отправку данных на сервер, их обработку, валидацию и сохранение. Работа является базовой для дальнейших лабораторных работ.

---

## Этап 1. Создание проекта

Была создана структура проекта `online_shop`:

```bash
online_shop
├── readme.md
├── public
│   ├── index.php
│   ├── cart
│   │   ├── checkout.php
│   │   └── index.php
│   └── product
│       ├── create.php
│       ├── delete.php
│       ├── index.php
│       ├── test
│       └── update.php
├── src
│   ├── helpers.php
│   └── handlers
│       ├── CartHandler.php
│       ├── ProductCreateHandler.php
│       ├── ProductDeleteHandler.php
│       └── ProductUpdateHandler.php
└── storage
    ├── orders.json
    ├── products.json
    └── uploads
```

---

## Этап 2. Создание HTML-формы

В файле `public/product/create.php` была реализована HTML-форма для добавления товара:

- Название
- Описание
- Цена
- Регион (выпадающий список)
- Фотографии (do 3x)
- Торг (чекбокс)
- Телефон

> ![alt text]({048540C8-5410-4665-B0F0-C823AA021682}.png)

---

## Этап 3. Обработка данных

В файле `src/handlers/ProductCreateHandler.php` были реализованы:

- Фильтрация входных данных с помощью `htmlspecialchars` и `trim`
- Валидация (формат телефона, размер и тип файлов)
- Обработка и сохранение загруженных изображений
- Сохранение товара в `storage/products.json`
- Перенаправление на главную страницу

> ![alt text]({BD40528D-B404-4585-8FC5-2D23F9CA312D}.png)

---

## Этап 4. Отображение товаров

### В `public/index.php`

Вывод двух последних товаров по дате `created_at`. Если есть изображения, они тоже отображаются.

> ![alt text]({7570A5B9-57CF-4455-BBFC-A8F699BFD0F0}.png)

### В `public/product/index.php`

Все товары отображаются в цикле, включая:
- имя, цену, категорию, телефон, регион
- каждое загруженное изображение

> ![alt text]({97F2E061-F2E6-4955-969C-70FC2A7A5550}.png)

---

## Дополнительно: Пагинация

В `product/index.php` реализован вывод по 5 товаров на страницу с использованием GET-параметра `page`. Если page не указан, выводится первая страница.

> ![alt text](image.png)

---

## Контрольные вопросы

**1. Какие HTTP-методы используются для отправки форм?**
- Метод: `POST`. `POST` — для отправки данных формы на сервер.

**2. Что такое валидация данных и чем она отличается от фильтрации?**
- **Фильтрация** — это очистка входных данных от ненужных символов и потенциально опасного содержимого.
- **Валидация** — это проверка, соответствуют ли данные определённым требованиям (например, формат телефона, диапазон цены и т.д.).

**3. Какие функции PHP используются для фильтрации данных?**
- `trim()` — удаляет пробелы в начале и в конце строки
- `htmlspecialchars()` — преобразует специальные символы в HTML-сущности
- `filter_var()` — фильтрация и валидация (например, чисел и email)
- `strip_tags()` — удаляет HTML-теги из строки

---

## Вывод

В ходе лабораторной работы были освоены:
- Создание HTML-форм и их структура
- Отправка данных методом POST
- Обработка данных на сервере
- Фильтрация и валидация пользовательского ввода
- Работа с файлами (JSON и загрузка изображений)
- Организация файловой структуры проекта
- Реализация простейшей пагинации

Полученные знания и код станут основой для последующих лабораторных работ, связанных с разработкой полноценных веб-приложений на PHP.


